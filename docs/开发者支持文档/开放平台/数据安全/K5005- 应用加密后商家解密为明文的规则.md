# K5005- 应用加密后商家解密为明文的规则

> **文档ID**: 400555  
> **页面标识**: ad5f21e8bfe1ac810cd6f8bcd07223121678092358482  
> **更新时间**: 1678159820298  
> **浏览量**: 1077

---

#### 问题分类：

数据安全

#### 问题现象：

应用全量加密后，应用需要遵循什么解密规则

商家在应用上解密消费者隐私数据，是什么解密规则

#### 问题原因：

平台禁止所有开发者直接获取订单消费者隐私明文数据，包括姓名、手机号、详细地址、身份证姓名、身份证号等。开发者需要按照平台要求完成加密操作和密文经营场景对接，详情可查看平台公告《[【官方公告】快手升级消费者隐私信息加密公告](https://edu.kwaixiaodian.com/bbs/web/article?id=16556&layoutType=4)》。

#### 解决方案：

##### 1.应用解密规则

应用完成全量加密后，可通过解密API解密，每个商家有各自的默认解密额度，解密超额后接口会报错，解密额度细则可查看《[【官方公告】快手升级消费者隐私信息加密公告](https://edu.kwaixiaodian.com/bbs/web/article?id=16556&layoutType=4)》。

应用解密规范请遵循

1.前置校验：对于不允许解密的订单状态，请做好前置校验，进行业务逻辑的前置处理，避免产生必定失败的解密调用；

2.错误解析：对解密返回的错误码进行解析，若是因为业务逻辑导致的解密失败，如因订单状态不允许解密导致，则不要再持续重试，避免进行必定失败的批量解密调用；

3.手动解密：不允许提供批量的自动解密操作，只允许在商家主动发起解密查看时，再调用解密接口进行解密；

4.按需解密：当商家只需要手机号/姓名/收货详细地址的单个解密信息时，提供单个字段按需解密功能，商家未点击查看的字段不允许额外解密；

5.禁止越权：只允许给商家解密有权限的订单，不允许给商家解密其他商家的订单数据，按照快手账号做好水平权限校验，禁止越权解密不属于该商家的订单。

请开发者按照上述情况进行自查，若发现有解密不规范的情况，平台为了维持业务稳定发展，将对调用不规范的应用及关联服务进行处理。

##### 2.商家解密规则

1.解密规则：解密额度为商家维度，商家PC端、APP端和开放平台的订单数据共享商家的解密额度，同一个订单在不同的端解密多次计为1次解密，不同商家解密额度详见 《[【官方公告】快手升级消费者隐私信息加密公告](https://edu.kwaixiaodian.com/bbs/web/article?id=16556&layoutType=4)》 ；

|  |  |
| --- | --- |
| 解密规则 | 解密说明 |
| 不允许解密 | 订单状态交易成功，14天内允许解密，14天后不允许解密，解密失败后请勿重试 L0等级及以下的商家不允许通过接口解密订单 |
| 允许解密且不消耗额度 | 订单有关联的售后单且状态为售后中，允许解密且不消耗解密额度 |
| 允许解密且消耗额度 | 除上述两种情况下其他状态的订单，允许解密且消耗解密额度，当天解密额度在商家小店后台额度管理中可进行查看和申请 |

2.解密额度：平台每天会给商家分配当天默认的解密额度，商家可在“[快手小店后台-店铺信息设置-额度管理](https://s.kwaixiaodian.com/zone/shop/info/index?tab=12)”中查看当天已解密额度和剩余可解密额度。若当天解密额度已超限，商家可在小店后台进行申请，申请通过后有新的解密额度，解密额度仅在当天生效。

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1667206193601.png)

注意：若商家订单量较小，平台依然强烈建议商家使用快手电子面单，否则商家订单量上升或平台解密额度降低后将无法给解密额度以外的订单打单发货，造成履约风险

**商家解密规则将及时同步更新在《[【官方公告】快手升级消费者隐私信息加密公告](https://edu.kwaixiaodian.com/bbs/web/article?id=16556&layoutType=4)》 中，请各位开发者查看公告内容并知晓最新规则**

#### 关键字：

数据安全

解密额度

解密规则
