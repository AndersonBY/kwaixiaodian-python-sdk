# API限流说明

> **文档ID**: 401718  
> **页面标识**: 024cdc63d29892145414b872017519e41659952772240  
> **更新时间**: 1724730849753  
> **浏览量**: 5856

---

1.应用限流规则说明
----------

        快手电商开放平台对应用进行了流量管控，平台会根据应用的状态分配初始的天调用量和QPS上限值，应用在上线后可以按需申请下一阶梯流量。平台会参考应用近7天的调用成功率、调用量、QPS值进行审核，详细规则见文档[《应用流量申请规则》](https://open.kwaixiaodian.com/zone/new/docs/dev?pageSign=e759c2d7db83c850ec3146074a40da8d1616125375613)。

**2.限流常见问题**
------------

### **2.1 限流报错如何处理？**

       限流限额报错常见三类错误，天调用量额度超限、QPS流量上限超限、测试用户调用额度超限，具体错误和解决办法详见[《常见问题-API触发限流告警》](https://open.kwaixiaodian.com/zone/new/faq/detail?cateId=40&pageSign=9b1f829db26763cb185dd119f54748111646964966070)。

### **2.2 限流维度有哪些？规则是什么？**

      应用维度：应用维度的天调用量限额，为当前应用每天可以调用API的总量上限值，应用上线后可以按需申请；

      应用-API维度：应用-API维度QPS限流，为当前应用调用单个API的限流QPS上限值，若API有单独的QPS限流值，则以API的限流为准；

      API维度：API维度的全局QPS、单应用维度QPS和单用户QPS限流，全局QPS不对外展示，单应用维度QPS和单用户QPS限流见下表。

### **2.3 应用调用API的QPS没有达到限流值，为什么还偶尔有报错？**

     按照2.2中的说明，除了应用和API维度的限流，在API的维度会有全局的QPS限流，如果遇到报错可以稍等一下后再重试。原因是：例如API全局限流QPS为500，单应用维度QPS为100，若当前有6个应用调用API的QPS为80，则当前API的全局QPS达到了480，则其他应用可使用的QPS则为20，即使未达到QPS为100的限流值，也会触发限流，可以稍后重试。

### **2.4** **是否可以设置限流告警？怎么设置？**

   平台有默认的预警规则，当天调用额度达到90%、QPS值达到90%时会分别发送告警信息，ISV可以到[控制台-预警配置](https://open.kwaixiaodian.com/console/zone/open/home_monitor_warningConfig)设置自定义的API维度和应用维度的流量告警，告警信息会通过邮件和站内信触达。

**3.API限流说明**
-------------

|  |  |  |
| --- | --- | --- |
| API名称 | 单应用维度QPS上限 | 单用户维度QPS上限 |
| open.item.new | 100 | 50 |
| open.item.edit | 100 | 50 |
| open.item.autopass.edit | 100 | 50 |
| open.item.shelf.status.update | 100 | 50 |
| open.item.delete | 100 | 50 |
| open.order.cursor.list | 300 | 300 |
| open.order.decrypt.batch | 100 | 100 |
