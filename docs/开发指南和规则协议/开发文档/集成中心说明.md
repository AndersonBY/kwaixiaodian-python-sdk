# 集成中心说明

> **文档ID**: 400073  
> **页面标识**: ed0a347be85ed2208982dee72e5298e31653894030045  
> **更新时间**: 1660828160572  
> **浏览量**: 3252

---

1.集成中心功能
--------

### 1.1 添加集成

进入“控制台-集成中心”查看可进行集成的场景，若没有集成场景列表。ISV可提供已入驻到开放平台的快手id和公司名称，让对接的快手研发人员，邀请ISV对接特定的集成场景，则可在列表中查看到。选择集成场景，点击“关联应用”，选择进行集成实现的应用。![](https://p2-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653890486213.png)  
![](https://p2-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653879332211.png)

### 1.2 查看SPI定义

点击“官方集成”打开待集成的场景列表，可以选择某一个SPI，查看该SPI集成服务的定义。每个SPI服务都相关标签，有“必须实现”标签的SPI则表示必须要完成这个SPI服务对应的HTTP服务配置，有“免测”标签的SPI则表示这个SPI可以在不测试的情况下提交实现，这两个标签不互斥。

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653879545788.png)

### 1.3 配置HTTP实现

查看SPI服务的出入参数，准备好HTTP服务实现后，可以进行线上配置。  
服务基本信息配置，需要使用可标志对接方+对接业务的中英文名称，使用标准格式命名。在HTTP配置中，配置ISV按照SPI服务标准完成的HTTP服务实现，可以定制请求入参和请求出参。

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653879798189.png)

### 1.4 测试服务

点击“保存并下一步”后，可进入测试页面。按照SPI参数格式可以输入测试入参发起测试请求，发起测试后，可以查看测试结果，检查测试请求，也可以返回到上一步修改配置。对于标记了“免测”的SPI，可以在不完成测试时提交实现，对于未标记“免测”的SPI，需要完成至少一次成功的测试，才可以提交实现。

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653880026730.png)

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653880066188.png)

### 1.5 提交实现

建议至少完成一次成功的测试后提交实现，提交实现时检查场景和服务无误后，点击“提交”，平台对接的研发人员会接收到提交的HTTP服务实现，并在内部进行回测。

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653880174406.png)

### 1.6 实现完成

ISV实现集成场景的标准为：该集成场景下所有必须实现的SPI都实现了，状态为“已实现”

![](https://p5-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653891331937.png)

### 1.7 HTTP服务压测

当前压测功能仅允许在线上环境使用，且压测时间限定在周一到周五工作日的0点到12点、14点到18点、23点30分到24点这三个时间段内

#### （1）查看压测用例

当平台对接研发人员对服务创建了线上压测用例时，ISV可以在SPI中点击“测试”，跳转到HTTP服务的测试页面，查看当前服务需要完成的压测用例。每一个用例下可以新增多个作业，进行多轮压测，点击“新增作业”增加仅在ISV侧有效的压测作业。

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653880764748.png)

#### （2） 新增压测作业

填写标志了公司+业务+压测内容作业名称，选择周一到周五工作日的执行日期，选择开始和结束时间（注意这里的开始时间和结束时间表示ISV可以在该时间段手动发起压测的区间），填写压测任务开始后自动执行的持续时间和压测qps（需要ISV和平台双方确认），检查和更改测试参数为压测任务具体执行时的业务参数。  
检查各项无误后提交作业，作业提交后会经由平台对接人员审核。

![](https://p2-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653881093733.png)

#### （3） 执行压测

审核通过后状态为待启动，点击“执行”，执行时会判断是否在执行时间区间内，如下当前可以点击“执行”的时间区间在14:20:35~14:30:54之间。若已经不在执行区间内，需要再编辑压测作业重新提交，因压测需要确保ISV和平台双方都在线，且在按照平峰期。

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653892865085.png)

点击“执行”，开始执行压测作业

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653893188742.png)

点击后会有几分钟的爬坡时间，然后开始进行压测作业的执行，在压测执行时可以观察服务情况，若有问题可以点击“停止”立即停止当前的压测作业，若无问题可以等待压测作业执行完成

![](https://p4-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653893239815.png)

#### （4） 查看压测结果

压测作业正常执行完成后，会显示995耗时和成功率，平台对接人员会基于耗时和成功率评估，是否成功完成了本轮的压测

![](https://p2-ec.ecukwai.com/kos/nlav10684/gravity-open-editor/gravity-open-editor-1653894288858.png)

在第一轮压测结束后，可以在同一个压测用例中再次新增第二轮的压测作业，双方共同评估时间区间和压测内容，按照流程执行即可
